# ЁЯЪА VPS Bot - ржЪрзВржбрж╝рж╛ржирзНржд ржЗржирж╕рзНржЯрж▓рзЗрж╢ржи ржЧрж╛ржЗржб

## ЁЯУЛ рж╕ржорзНржкрзВрж░рзНржг рж╕рзЗржЯржЖржк (рззрзл ржорж┐ржирж┐ржЯ)

ржЖржкржирж╛рж░ VPS-ржП ржзрж╛ржкрзЗ ржзрж╛ржкрзЗ рж╕рзЗржЯржЖржк ржХрж░рзБржиред

---

## ЁЯФС ржзрж╛ржк рзз: SSH ржХрж╛ржирзЗржХрзНржЯ ржХрж░рзБржи

### Windows PowerShell ржерзЗржХрзЗ:
```powershell
ssh root@84.54.23.85
```

**ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржб ржкрзНрж░ржорзНржкржЯ:**
- Contabo email-ржП ржжрзЗржУржпрж╝рж╛ ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржб ржЯрж╛ржЗржк ржХрж░рзБржи
- ржжрзГрж╢рзНржпржорж╛ржи рж╣ржмрзЗ ржирж╛, ржХрзЛржирзЛ рж╕ржорж╕рзНржпрж╛ ржирзЗржЗ

---

## ЁЯУж ржзрж╛ржк рзи: ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ ржкрзНржпрж╛ржХрзЗржЬ ржЪрзЗржХ ржХрж░рзБржи

### ржЪрзЗржХ ржХрж░рзБржи Node.js ржЗржирж╕рзНржЯрж▓ ржЖржЫрзЗ ржХрж┐:
```bash
node --version
npm --version
```

**ржЖржкржирж┐ ржжрзЗржЦржмрзЗржи:**
```
v18.20.8
9.8.1
```

### pm2 ржЪрзЗржХ ржХрж░рзБржи:
```bash
pm2 --version
```

**ржпржжрж┐ рждрзНрж░рзБржЯрж┐ ржкрж╛ржи:**
```bash
npm install -g pm2
```

---

## ЁЯУБ ржзрж╛ржк рзй: ржбрж╛ржЗрж░рзЗржХрзНржЯрж░рж┐ ржЪрзЗржХ ржХрж░рзБржи

```bash
cd /root/diamond-bot
ls -la
```

**ржЖржкржирж┐ ржжрзЗржЦржмрзЗржи:**
```
total 512
drwxr-xr-x  5 root root  4096 Dec  1 11:00 admin-panel
drwxr-xr-x  4 root root  4096 Dec  1 10:55 config
drwxr-xr-x  4 root root  4096 Nov 30 09:32 handlers
-rw-r--r--  1 root root  2547 Nov 28 15:22 index.js
-rw-r--r--  1 root root   890 Nov 20 10:05 package.json
```

### npm ржбрж┐ржкрзЗржирзНржбрзЗржирзНрж╕рж┐ ржЪрзЗржХ ржХрж░рзБржи:
```bash
npm list --depth=0 2>/dev/null | head -10
```

**ржпржжрж┐ ржорж┐рж╕рж┐ржВ ржжрзЗржЦрж╛ржи:**
```bash
npm install --legacy-peer-deps
```

---

## ЁЯЪА ржзрж╛ржк рзк: рж╕рзЗржмрж╛ рж╢рзБрж░рзБ ржХрж░рзБржи

### ржПржХржЯрж┐ ржХржорж╛ржирзНржбрзЗ рж╕ржмржХрж┐ржЫрзБ рж╢рзБрж░рзБ ржХрж░рзБржи:

```bash
pm2 start index.js --name diamond-bot \
  && pm2 start admin-panel/server.js --name admin-panel \
  && pm2 save \
  && pm2 startup \
  && pm2 list
```

**ржлрж▓рж╛ржлрж▓:**
```
[PM2] Starting app index.js in fork mode...
[PM2] App started with pid 1234
[PM2] Starting app admin-panel/server.js in fork mode...
[PM2] App started with pid 1235

тФМтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФмтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ id  тФВ name           тФВ version тФВ mode    тФВ status  тФВ restart  тФВ
тФЬтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФ╝тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФд
тФВ 0   тФВ diamond-bot    тФВ 0.0.0   тФВ fork    тФВ online  тФВ 0        тФВ
тФВ 1   тФВ admin-panel    тФВ 0.0.0   тФВ fork    тФВ online  тФВ 0        тФВ
тФФтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФ┤тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
```

тЬЕ **ржжрзБржЯрзЛ рж╕рзЗржмрж╛ "online" рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕рзЗ ржЖржЫрзЗ!**

---

## ЁЯФР ржзрж╛ржк рзл: ржкрж░рж┐ржмрзЗрж╢ ржлрж╛ржЗрж▓ ржЪрзЗржХ ржХрж░рзБржи

```bash
cat /root/diamond-bot/.env
```

**ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ рж╕рзЗржЯрж┐ржВрж╕:**
```
ADMIN_PORT=3000
BOT_PORT=3001
ADMIN_USERNAME=admin
ADMIN_PASSWORD=secure_password_123
```

### ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржб ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рждрзЗ:
```bash
nano /root/diamond-bot/.env
```

**Ctrl+X тЖТ Y тЖТ Enter** рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рждрзЗред

---

## ЁЯМР ржзрж╛ржк рзм: ржЕрзНржпрж╛ржбржорж┐ржи ржкрзНржпрж╛ржирзЗрж▓ ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржХрж░рзБржи

### ржмрзНрж░рж╛ржЙржЬрж╛рж░ ржЦрзБрж▓рзБржи:
```
http://84.54.23.85:3000
```

### рж▓ржЧржЗржи:
| ржлрж┐рж▓рзНржб | ржорзВрж▓рзНржп |
|-------|-------|
| Username | admin |
| Password | secure_password_123 |

### ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб:
```
Home тЖТ рж╕рзНржЯржХ рж╕рзЗржЯ ржХрж░рзБржи тЖТ 10000 тЖТ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рзБржи
```

тЬЕ **рж╕ржмрзБржЬ ржХрж╛рж░рзНржб ржжрзЗржЦржмрзЗржи: "ржЪрж╛рж▓рзБ тЬУ рж╕рзНржЯржХ: 10,000"**

---

## ЁЯУ▒ ржзрж╛ржк рзн: WhatsApp QR рж╕рзНржХрзНржпрж╛ржи ржХрж░рзБржи

### ржмржЯ рж▓ржЧ ржжрзЗржЦрзБржи:
```bash
pm2 logs diamond-bot
```

**ржЖржкржирж┐ ржжрзЗржЦржмрзЗржи:**
```
[2024-12-01 11:15:30] ЁЯУ▒ Generating QR Code...

тЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИ
тЦИ                              тЦИ
тЦИ  тЦИтЦИ  тЦИтЦИ  тЦИтЦИ  тЦИтЦИ  тЦИтЦИ  тЦИтЦИ  тЦИтЦИ  тЦИ
тЦИ  тЦСтЦС  тЦСтЦС  тЦСтЦС  тЦСтЦС  тЦСтЦС  тЦСтЦС  тЦСтЦС  тЦИ
тЦИ  тЦИтЦИ  тЦИтЦИ  тЦИтЦИ  тЦИтЦИ  тЦИтЦИ  тЦИтЦИ  тЦИтЦИ  тЦИ
тЦИ                              тЦИ
тЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИтЦИ
```

### ржорзЛржмрж╛ржЗрж▓рзЗ:
1. WhatsApp ржЦрзБрж▓рзБржи
2. **Settings тЖТ Linked devices** ржпрж╛ржи
3. **"Link a device"** ржЪрж╛ржкрзБржи
4. **QR рж╕рзНржХрзНржпрж╛ржи ржХрж░рзБржи**

**рж╕рж╛ржлрж▓рзНржп:**
```
тЬЕ Client is ready!
тЬЕ Bot initialized!
тЬЕ Server running on port 3001
```

---

## тЬЕ ржзрж╛ржк рзо: ржкрж░рзАржХрзНрж╖рж╛ ржХрж░рзБржи

### WhatsApp ржЧрзНрж░рзБржкрзЗ ржЕрж░рзНржбрж╛рж░ ржкрж╛ржарж╛ржи:
```
/d 500
```

### ржЕрзНржпрж╛ржбржорж┐ржи ржкрзНржпрж╛ржирзЗрж▓рзЗ:
1. **Pending Orders** ржЯрзНржпрж╛ржм ржпрж╛ржи
2. ржирждрзБржи ржЕрж░рзНржбрж╛рж░ ржжрзЗржЦржмрзЗржи
3. **Approve** ржХрзНрж▓рж┐ржХ ржХрж░рзБржи

### ржлрж▓рж╛ржлрж▓:
- тЬЕ Stock: 10,000 тЖТ 9,500
- тЬЕ ржЧрзНрж░рзБржкрзЗ ржмрж╛рж░рзНрждрж╛: "рж░рзЗржорзЗржЗржирж┐ржВ рж╕рзНржЯржХ: 9,500 ЁЯТО"
- тЬЕ ржЕрж░рзНржбрж╛рж░ рж╕ржорзНржкржирзНржи

---

## ЁЯЫбя╕П ржзрж╛ржк рзп: ржирж┐рж░рж╛ржкрждрзНрждрж╛ рж╕рзЗржЯржЖржк

### ржлрж╛ржпрж╝рж╛рж░ржУржпрж╝рж╛рж▓ ржкрзЛрж░рзНржЯ ржЦрзБрж▓рзБржи:
```bash
ufw allow 3000
ufw allow 3001
ufw enable
```

### SSH ржирж┐рж░рж╛ржкржж ржХрж░рзБржи:
```bash
# ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржб ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рзБржи
passwd

# ржирждрзБржи ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржб ржЯрж╛ржЗржк ржХрж░рзБржи
```

---

## ЁЯУК ржзрж╛ржк рззрзж: ржЕржЯрзЛ-рж╕рзНржЯрж╛рж░рзНржЯржЖржк рж╕рзЗржЯржЖржк

### VPS рж░рж┐ржмрзБржЯ рж╣рж▓рзЗ рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ ржЪрж╛рж▓рзБ рж╣ржмрзЗ:

```bash
pm2 startup
pm2 save
```

**ржлрж▓рж╛ржлрж▓:**
```
[PM2] Init scripts generated and updated
[PM2] Saving current process list...
```

ржПржЦржи рж╕рж╛рж░рзНржнрж╛рж░ рж░рж┐ржмрзБржЯ рж╣рж▓рзЗржУ ржмржЯ рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ ржЪрж╛рж▓рзБ рж╣ржмрзЗ!

---

## ЁЯУИ ржзрж╛ржк рззрзз: ржкрж╛рж░ржлрж░ржорзНржпрж╛ржирзНрж╕ ржоржирж┐ржЯрж░ ржХрж░рзБржи

### рж░рж┐ржпрж╝рзЗрж▓-ржЯрж╛ржЗржо ржоржирж┐ржЯрж░рж┐ржВ:
```bash
pm2 monit
```

**ржжрзЗржЦржмрзЗржи:**
```
тМм PM2 Monitoring (Ctrl-C to exit)

[1] diamond-bot
    CPU: 2.5%  Memory: 85MB  Uptime: 15m

[2] admin-panel
    CPU: 1.2%  Memory: 60MB  Uptime: 14m
```

### рж╕рж┐рж╕рзНржЯрзЗржо рж░рж┐рж╕рзЛрж░рзНрж╕:
```bash
free -h
df -h
```

---

## ЁЯТ╛ ржзрж╛ржк рззрзи: ржмрзНржпрж╛ржХржЖржк рж╕рзЗржЯржЖржк ржХрж░рзБржи

### ржорзНржпрж╛ржирзБржпрж╝рж╛рж▓ ржмрзНржпрж╛ржХржЖржк:
```bash
tar -czf /root/backup-$(date +%Y%m%d-%H%M%S).tar.gz /root/diamond-bot/config/
ls -lh /root/backup-*.tar.gz
```

### рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ ржжрзИржирж┐ржХ ржмрзНржпрж╛ржХржЖржк (cron):
```bash
crontab -e
```

**ржПржЯрж┐ ржпрзЛржЧ ржХрж░рзБржи:**
```
0 2 * * * tar -czf /root/backup-$(date +\%Y\%m\%d).tar.gz /root/diamond-bot/config/
```

(рж░рж╛ржд рзиржЯрж╛ржпрж╝ ржкрзНрж░рждрж┐ржжрж┐ржи ржмрзНржпрж╛ржХржЖржк рж╣ржмрзЗ)

---

## ЁЯФД ржзрж╛ржк рззрзй: ржжрзИржирж┐ржХ рж░ржХрзНрж╖ржгрж╛ржмрзЗржХрзНрж╖ржг

### ржкрзНрж░рждрж┐ржжрж┐ржи ржЪрзЗржХ ржХрж░рзБржи:
```bash
pm2 list
```

### рж╕рж╛ржкрзНрждрж╛рж╣рж┐ржХ рж▓ржЧ ржкрж░рж┐рж╖рзНржХрж╛рж░:
```bash
pm2 flush
```

### ржорж╛рж╕рж┐ржХ рж░рж┐рж╕рзНржЯрж╛рж░рзНржЯ:
```bash
pm2 restart all
```

---

## ЁЯЖШ ржЬрж░рзБрж░рж┐ ржХржорж╛ржирзНржб

| рж╕ржорж╕рзНржпрж╛ | рж╕ржорж╛ржзрж╛ржи |
|--------|--------|
| **ржмржЯ ржХрзНрж░рж╛рж╢ рж╣ржпрж╝рзЗржЫрзЗ** | `pm2 restart diamond-bot` |
| **ржЕрзНржпрж╛ржбржорж┐ржи ржкрзНржпрж╛ржирзЗрж▓ ржирзЗржЗ** | `pm2 restart admin-panel` |
| **рж╕ржм ржкрзБржирж░рж╛ржпрж╝ ржЪрж╛рж▓рзБ ржХрж░рждрзЗ** | `pm2 restart all` |
| **рж╕ржм ржмржирзНржз ржХрж░рждрзЗ** | `pm2 stop all` |
| **рж╕ржм ржорзБржЫрждрзЗ** | `pm2 delete all` |
| **рж▓рж╛ржЗржн рж▓ржЧ ржжрзЗржЦрждрзЗ** | `pm2 logs` |
| **CPU/Memory ржжрзЗржЦрждрзЗ** | `pm2 monit` |

---

## ЁЯУЭ ржжрзНрж░рзБржд рж░рзЗржлрж╛рж░рзЗржирзНрж╕

```bash
# рж╕ржмржЪрзЗржпрж╝рзЗ рж╕рж╛ржзрж╛рж░ржг ржХржорж╛ржирзНржб
pm2 list              # рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕
pm2 logs              # рж▓рж╛ржЗржн рж▓ржЧ
pm2 restart all       # рж░рж┐рж╕рзНржЯрж╛рж░рзНржЯ
pm2 monit             # ржоржирж┐ржЯрж░

# SSH ржжрзНрж░рзБржд ржХрж╛ржирзЗржХрзНржЯ
ssh root@84.54.23.85

# ржЕрзНржпрж╛ржбржорж┐ржи ржкрзНржпрж╛ржирзЗрж▓
http://84.54.23.85:3000
```

---

## ЁЯОЙ рж╕ржорзНржкржирзНржи!

ржЖржкржирж╛рж░ ржмржЯ ржПржЦржи рж╕ржорзНржкрзВрж░рзНржгржнрж╛ржмрзЗ рж╕рзЗржЯржЖржк ржПржмржВ ржЪрж╛рж▓рзБ!

тЬЕ 24/7 ржЪрж╛рж▓рзБ ржерж╛ржХржмрзЗ  
тЬЕ рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ рж░рж┐рж╕рзНржЯрж╛рж░рзНржЯ  
тЬЕ ржЕрзНржпрж╛ржбржорж┐ржи ржкрзНржпрж╛ржирзЗрж▓ рж╕ржХрзНрж░рж┐ржпрж╝  
тЬЕ WhatsApp ржХрж╛ржирзЗржХрзНржЯрзЗржб  
тЬЕ рж╕рзНржЯржХ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ ржЪрж╛рж▓рзБ  

---

## ЁЯУЮ рж╕рж╛ржкрзЛрж░рзНржЯ

ржХрзЛржирзЛ рж╕ржорж╕рзНржпрж╛ рж╣рж▓рзЗ:
```bash
pm2 logs diamond-bot --lines 50 --err
```

ржПржмржВ рждрзНрж░рзБржЯрж┐ ржЖржорж╛ржХрзЗ ржкрж╛ржарж╛ржи!

---

**ржЖржкржирж╛рж░ ржмржЯ ржПржЦржи VPS-рждрзЗ ржЬрзАржмрж┐ржд! ЁЯЪАЁЯТО**
